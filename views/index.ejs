<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/styles/index.css">
    <title>Soundboard</title>
</head>

<body class='<%= category %>'>
    <nav>
        <ul>
            <% categories.forEach(c=> { %>
                <li><a href="/<%= c %>">
                        <button class="<%= c %>">
                            <%= c.toUpperCase() %>
                        </button>
                    </a></li>
                <% }); %>
        </ul>
    </nav>
    <div id="nav-mini">
        <button class="spam on">SPAM</button>
        <button class="hamburger" aria-label="Menu">
            <img src="/images/hamburger.svg">
        </button>
    </div>
    <main>
        <p class="small">
            <%= category.toUpperCase() %>
        </p>
        <div id="grid"></div>
        <p class="small">Copyright © 2022 IdotDev — All rights reserved</p>
    </main>
    <div id="context-menu">
        <div class="menu-option" id="menu-save">Save: </div>
        <div class="menu-option" id="menu-copy">Copy Link</div>
        <div class="menu-option" id="menu-open">Open Link in New Tab</div>
    </div>

    <script defer>
        const category = '<%= category %>';
        const spam = true;
        const em = parseFloat(window.getComputedStyle(document.body).fontSize);
    </script>
    <script async defer src="/scripts/sounds.js"></script>
    <script async defer>
        document.addEventListener('DOMContentLoaded', function () {
            const nav = document.querySelector('nav');
            const hamburger = document.querySelector('.hamburger');
            const contextMenu = document.querySelector('#context-menu');
            hamburger.addEventListener('click', () => {
                nav.style.display = nav.style.display === 'block' ? 'none' : 'block';
            });
            const observer = new ResizeObserver(entries => {
                nav.style.display = entries[0].contentRect.width < 40 * em ? 'none' : 'block';
            });
            observer.observe(document.body);
        });
    </script>
</body>

</html>